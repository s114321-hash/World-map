<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>世界國家探索地圖</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        /* 1. 確保地圖 100% 滿版，跟目標網站一樣 */
        body, html { margin: 0; padding: 0; height: 100%; background: #000; overflow: hidden; }
        #map { height: 100vh; width: 100%; }

        /* 2. 修改提示框樣式，讓它更有質感 */
        .leaflet-tooltip {
            background: rgba(0, 0, 0, 0.8) !important;
            color: #fff !important;
            border: 1px solid #555 !important;
            font-size: 14px !important;
            padding: 5px 10px !important;
            border-radius: 4px;
        }
    </style>
</head>
<body>

    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // 初始化地圖，設定在中間位置
        const map = L.map('map', {
            center: [20, 10],
            zoom: 2,
            zoomControl: false // 隱藏縮放按鈕，讓視覺更乾淨
        });

        // 換成最穩定的 CartoDB 衛星深色底圖，這跟目標網站最像
        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; OpenStreetMap'
        }).addTo(map);

        // 載入各國邊界
        fetch('https://raw.githubusercontent.com/datasets/geo-countries/master/data/countries.geojson')
            .then(res => res.json())
            .then(data => {
                L.geoJSON(data, {
                    style: function(feature) {
                        return {
                            fillColor: "#3498db",
                            weight: 1,
                            opacity: 1,
                            color: '#555', // 國界線顏色
                            fillOpacity: 0.1 // 平時幾乎透明
                        };
                    },
                    onEachFeature: function (feature, layer) {
                        const name = feature.properties.ADMIN;

                        // 滑鼠移入：區塊變亮 + 顯示名字
                        layer.on('mouseover', function (e) {
                            this.setStyle({
                                fillOpacity: 0.5,
                                fillColor: '#f1c40f' // 移上去變金色
                            });
                            this.bindTooltip(name).openTooltip();
                        });

                        // 滑鼠移出：恢復
                        layer.on('mouseout', function (e) {
                            this.setStyle({
                                fillOpacity: 0.1,
                                fillColor: '#3498db'
                            });
                        });

                        // 點擊：直接跳轉到維基百科 (或你想要的介紹頁)
                        layer.on('click', function () {
                            window.location.href = `https://zh.wikipedia.org/wiki/${encodeURIComponent(name)}`;
                        });
                    }
                }).addTo(map);
            });
    </script>
</body>
</html>
