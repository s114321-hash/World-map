async function updateInfoPanel(name) {
    const panel = document.getElementById('info-panel');
    panel.innerHTML = `<p>æ­£åœ¨å¾ç¶­åŸºç™¾ç§‘èª¿é–± ${name} çš„æ·±åº¦è³‡æ–™...</p>`;

    try {
        // 1. åŒæ™‚æŠ“å– åœ‹å®¶åŸºæœ¬è³‡æ–™ API å’Œ ç¶­åŸºç™¾ç§‘ API
        const countryRes = await fetch(`https://restcountries.com/v3.1/name/${name}?fullText=true`);
        const countryData = await countryRes.json();
        const country = countryData[0];

        // 2. æŠ“å–ç¶­åŸºç™¾ç§‘ç°¡ä»‹ (ä¸­æ–‡ç‰ˆ)
        const wikiRes = await fetch(`https://zh.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(name)}`);
        const wikiData = await wikiRes.json();
        const historyText = wikiData.extract || "æš«ç„¡ç¶­åŸºç™¾ç§‘ä»‹ç´¹ã€‚";

        // 3. é¡¯ç¤ºåˆ°ä»‹é¢ä¸Š
        panel.innerHTML = `
            <div class="country-title">
                <img class="country-flag" src="${country.flags.png}">
                <h2>${name}</h2>
            </div>
            
            <div class="data-card">
                <h3>ğŸ“ åŸºæœ¬è³‡è¨Š</h3>
                <p><b>æ­£å¼åœ‹åï¼š</b> ${country.name.official}</p>
                <p><b>é¦–éƒ½ï¼š</b> ${country.capital ? country.capital[0] : "ç„¡"}</p>
                <p><b>äººå£ï¼š</b> ${country.population.toLocaleString()} äºº</p>
                <p><b>è²¨å¹£ï¼š</b> ${Object.values(country.currencies)[0].name}</p>
            </div>

            <div class="history-box">
                <h3>ğŸ“œ ç¶­åŸºç™¾ç§‘ä»‹ç´¹</h3>
                <p>${historyText}</p>
                <a href="${wikiData.content_urls?.desktop.page || '#'}" target="_blank">é–±è®€æ›´å¤š...</a>
            </div>
        `;
    } catch (error) {
        panel.innerHTML = `<h3>${name}</h3><p>æ­¤åœ‹å®¶è³‡æ–™æŠ“å–å¤±æ•—ï¼Œå¯èƒ½æ˜¯åç¨±å°æ‡‰å•é¡Œã€‚</p>`;
    }
}
