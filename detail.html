<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>åœ‹å®¶è©³ç´°ä»‹ç´¹</title>
    <style>
        body { font-family: "Microsoft JhengHei", sans-serif; background: #f4f7f6; margin: 0; padding: 0; display: flex; justify-content: center; }
        .container { width: 90%; max-width: 900px; background: white; margin-top: 50px; padding: 40px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .back-btn { text-decoration: none; color: #3498db; font-weight: bold; border: 1px solid #3498db; padding: 5px 15px; border-radius: 20px; }
        header { display: flex; align-items: center; justify-content: space-between; margin-top: 20px; border-bottom: 2px solid #eee; padding-bottom: 20px; }
        .flag { width: 180px; height: auto; border: 1px solid #ddd; }
        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px; }
        .info-item { background: #f9f9f9; padding: 15px; border-radius: 8px; border-left: 5px solid #3498db; }
        .history { margin-top: 30px; line-height: 1.8; color: #333; font-size: 1.1em; }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-btn">â† å›åˆ°ä¸–ç•Œåœ°åœ–</a>
        <header id="header-content">
            <h1 id="name">è¼‰å…¥ä¸­...</h1>
            <img id="flag" src="" class="flag">
        </header>
        <div class="info-grid">
            <div class="info-item"><b>é¦–éƒ½ï¼š</b><span id="capital">è®€å–ä¸­</span></div>
            <div class="info-item"><b>äººå£ï¼š</b><span id="pop">è®€å–ä¸­</span></div>
            <div class="info-item"><b>å€åŸŸï¼š</b><span id="region">è®€å–ä¸­</span></div>
            <div class="info-item"><b>å®˜æ–¹é€£çµï¼š</b><a id="wiki-link" target="_blank">ç¶­åŸºç™¾ç§‘å…¨æ–‡</a></div>
        </div>
        <div class="history">
            <h3>ğŸ“– æ­·å²èˆ‡åœ°ç†ç°¡ä»‹</h3>
            <p id="summary">æ­£åœ¨èª¿é–±å…¨çƒè³‡æ–™åº«...</p>
        </div>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const country = urlParams.get('country');
        
        async function loadInfo() {
            // æŠ“å–åœ‹å®¶åŸºæœ¬è³‡æ–™
            const res = await fetch(`https://restcountries.com/v3.1/name/${country}`);
            const data = await res.json();
            const c = data[0];
            
            document.getElementById('name').innerText = country;
            document.getElementById('flag').src = c.flags.png;
            document.getElementById('capital').innerText = c.capital ? c.capital[0] : "ç„¡";
            document.getElementById('pop').innerText = c.population.toLocaleString() + " äºº";
            document.getElementById('region').innerText = c.subregion;
            document.getElementById('wiki-link').href = `https://zh.wikipedia.org/wiki/${encodeURIComponent(country)}`;
            
            // æŠ“å–ç¶­åŸºç™¾ç§‘ä¸­æ–‡ç°¡ä»‹
            const wRes = await fetch(`https://zh.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(country)}`);
            const wData = await wRes.json();
            document.getElementById('summary').innerText = wData.extract || "æš«ç„¡ä¸­æ–‡è©³ç´°æ­·å²è³‡æ–™ã€‚";
        }
        loadInfo();
    </script>
</body>
</html>
